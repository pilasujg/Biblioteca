<style>
  .container{
   
    position: inherit;
    height: 100%;
    width: 100%
  }
  .card {
    display: flex;
    border-radius: 20px;
    background-color: antiquewhite;
    height: 100%;
    width: 100%;
    text-size-adjust: auto;
    text-size-adjust: 100%;
    font-style: normal;
    font-family: 'Times New Roman', Times, serif;
    font-size: 25px;
  }
  .stars-outer {
  display: inline-block;
  position: relative;
  font-family: FontAwesome;
}

.stars-outer::before {
  content: "\f006 \f006 \f006 \f006 \f006";
}

.stars-inner {
  position: absolute;
  top: 0;
  left: 0;
  white-space: nowrap;
  overflow: hidden;
  width: 0;
}

.stars-inner::before {
  content: "\f005 \f005 \f005 \f005 \f005";
  color: #f8ce0b;
}

.attribution {
  font-size: 12px;
  color: #444;
  text-decoration: none;
  text-align: center;
  position: fixed;
  right: 10px;
  bottom: 10px;
  z-index: -1;
}
.attribution:hover {
  color: #1fa67a;
}
</style>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">


<body>
  <div class="container my-5">
    <div class="row mx-5">
      <div class="col-12">
        
      
        <div class="card col-10 mx-2 h-500 my-2">
  
        <div class="card-header">
          <div class="text-center">
            <h2>{{onebook.[0].titulo}}</h2>
        </div>
        </div>
  
            <div class="card-body">
              
              <h5 class="card-title text-center">{{onebook.[0].autor}}</h5>
              <p class="card-text text-center" id="trama1">{{onebook.[0].trama}}</p>
              <hr>
              <p class="card-text text-center">{{onebook.[0].genero}}</p>
              <p class="card-text text-end"><h5>Valoración:&nbsp; {{valor}}</h5></p>
               <span id="stars"></span>
              <div class="position-absolute bottom-0 start-50 translate-middle">
              
                <a  href="/home">
                <button class="btn btn-primary" id="closeView">cerrar</button>
              
                </a>  
              
              
              </div>
            </div>
   </div>
   
    </div>     
   </div>
   <!-- ver opiniones de los lectores -->
   <div class="container p-2">
    <div class="row mx-5">
    <div class="col-12 text-center">
      <h2>Opiniones de los lectores</h2>
      </div>
      <hr>
      <div class="row">
        
          {{#each opinion}}
          {{! Path: src/views/view.hbs }}
          <div class="card col-10 mx-2 my-2 text-bg-light h-150">
            <div class="card-body">
              <div class="card-title"><h4><strong>{{lector}}</h4></strong></div>
              <p class="card-text">{{opinion}}</p>
             <p class="card-text text-center" ><h5>Valoración:&nbsp; <strong>{{valoracion}}</strong></h5></p>
            
      
            </div>
          </div>
          {{/each}}
  <a class="attribution" href="http://fontawesome.io/"></a>
  </div>
  </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />


  <script>
   
    let data = {{valor}};
  console.log(data)
   
    
       document.getElementById("stars").innerHTML = getStars(data);
     
  

function getStars(data) {

  // Round to nearest half
  rating =  data / 2;
  let output = [];

  // Append all the filled whole stars
  for (var i = rating; i >= 1; i--)
    output.push('<i class="fa fa-star" aria-hidden="true" style="color: black;"></i>&nbsp;');

  // If there is a half a star, append it
  if (i == .5) output.push('<i class="fa fa-star-half-o" aria-hidden="true" style="color: black;"></i>&nbsp;');

  // Fill the empty stars
  for (let i = (5 - rating); i >= 1; i--)
    output.push('<i class="fa fa-star-o" aria-hidden="true" style="color: black;"></i>&nbsp;');

  return output.join('');

}

  
  </script>

</body>